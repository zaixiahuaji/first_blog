{"openapi":"3.0.0","paths":{"/api":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/api/posts":{"get":{"operationId":"PostsController_findAll","parameters":[{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"minimum":1,"maximum":100,"default":20,"type":"number"}},{"name":"sort","required":false,"in":"query","schema":{"default":"createdAt","type":"string","enum":["createdAt","date","title"]}},{"name":"order","required":false,"in":"query","schema":{"default":"DESC","type":"string","enum":["ASC","DESC"]}},{"name":"category","required":false,"in":"query","schema":{"type":"string","enum":["tech","music","visuals"]}},{"name":"q","required":false,"in":"query","description":"关键词搜索（ILIKE）","schema":{"type":"string"}},{"name":"vectorQ","required":false,"in":"query","description":"语义搜索文本（pgvector + OpenAI embeddings）","schema":{"type":"string"}}],"responses":{"200":{"description":"分页列表"}},"summary":"获取文章列表（支持分页/排序/过滤/关键词 q/语义 vectorQ）","tags":["posts"]},"post":{"operationId":"PostsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePostDto"}}}},"responses":{"401":{"description":"未登录或 token 无效"}},"security":[{"BearerAuth":[]}],"summary":"创建文章（需要登录）","tags":["posts"]}},"/api/posts/{id}":{"get":{"operationId":"PostsController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"文章 UUID","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"summary":"获取文章详情","tags":["posts"]},"patch":{"operationId":"PostsController_update","parameters":[{"name":"id","required":true,"in":"path","description":"文章 UUID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePostDto"}}}},"responses":{"401":{"description":"未登录或 token 无效"}},"security":[{"BearerAuth":[]}],"summary":"更新文章（需要登录）","tags":["posts"]},"delete":{"operationId":"PostsController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"文章 UUID","schema":{"type":"string"}}],"responses":{"401":{"description":"未登录或 token 无效"}},"security":[{"BearerAuth":[]}],"summary":"删除文章（需要登录）","tags":["posts"]}},"/api/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"登录成功返回 JWT access_token（用于 Authorization: Bearer <token>）"}},"summary":"登录，返回 access_token","tags":["auth"]}}},"info":{"title":"Personal Blog API","description":"个人博客 API 文档","version":"1.0","contact":{}},"tags":[{"name":"blog","description":""}],"servers":[],"components":{"securitySchemes":{"BearerAuth":{"scheme":"bearer","bearerFormat":"JWT","type":"http","description":"请输入有效的 JWT Token"}},"schemas":{"CreatePostDto":{"type":"object","properties":{"title":{"type":"string","example":"模拟复兴","maxLength":255},"category":{"type":"string","enum":["tech","music","visuals"]},"date":{"type":"string","example":"2023-11-05","maxLength":32},"excerpt":{"type":"string","example":"摘要...","description":"列表页短摘要"},"content":{"type":"string","example":"正文...","description":"文章正文内容"}},"required":["title","category","date","excerpt","content"]},"UpdatePostDto":{"type":"object","properties":{"title":{"type":"string","example":"模拟复兴（修订版）","maxLength":255},"category":{"type":"string","enum":["tech","music","visuals"]},"date":{"type":"string","example":"2023-11-06","maxLength":32},"excerpt":{"type":"string","example":"摘要（更新）..."},"content":{"type":"string","example":"正文（更新）..."}}},"LoginDto":{"type":"object","properties":{"email":{"type":"string","example":"admin@example.com","maxLength":255},"password":{"type":"string","example":"admin123"}},"required":["email","password"]}}}}